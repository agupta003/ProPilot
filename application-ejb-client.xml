<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd" >
<beans>
	<bean id="bookingService" lazy-init="true"
		class="com.itservicesone.training.spring.s9.topic1.remoting.BookingService">

		<property name="customerManager">
			<ref bean="remoteCustomerService" />
		</property>
	</bean>

	<!--  Access EJBS(s) -->

	<bean id="remoteCustomerService"
		class="org.springframework.ejb.access.SimpleRemoteStatelessSessionProxyFactoryBean"
		lazy-init="true">
		<property name="jndiName">
			<value>CustomerManagerRemote</value>
		</property>

		<property name="businessInterface">
			<value>sessionbeans.CustomerManagerRemote</value>
		</property>
		<property name="jndiTemplate">
			<ref bean="jndiEnviroment" />
		</property>
	</bean>
	<bean id="jndiEnviroment" class="org.springframework.jndi.JndiTemplate">
		<property name="environment">
			<props>
				<prop key="java.naming.factory.initial">org.jnp.interfaces.NamingContextFactory</prop>
				<prop key="java.naming.factory.url.pkgs">org.jboss.naming:org.jnp.interfaces</prop>
				<prop key="java.naming.provider.url">jnp://localhost:1099</prop>
			</props>
		</property>
	</bean>




</beans>
